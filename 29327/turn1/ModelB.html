<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pokemon Shape Guessing Game</title>
<link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
<style>
  body {
    font-family: 'Press Start 2P', cursive;
    background: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    color: #333;
  }
  #game-container {
    text-align: center;
    background: white;
    padding: 20px;
    border: 5px solid #333;
    border-radius: 10px;
  }
  #pokemon-image {
    width: 200px;
    height: 200px;
    background: black;
    margin: 20px auto;
    transition: opacity 0.5s;
  }
  input[type="text"] {
    padding: 10px;
    font-size: 16px;
    font-family: inherit;
  }
  button {
    padding: 10px 20px;
    font-size: 16px;
    font-family: inherit;
    background: #ffcb05;
    border: 2px solid #333;
    cursor: pointer;
  }
  #score, #message {
    margin-top: 20px;
    font-size: 14px;
  }
  .hidden {
    display: none;
  }
</style>
</head>
<body>
<div id="game-container" class="hidden">
  <h1>Pokemon Shape Guesser</h1>
  <div id="pokemon-image"></div>
  <input type="text" id="pokemon-guess" placeholder="Enter Pokemon name">
  <button onclick="checkAnswer()">Submit</button>
  <div id="score">Score: 0</div>
  <div id="message"></div>
</div>
<div id="welcome-screen">
  <h2>Press any key to start</h2>
</div>

<script>
document.addEventListener('keydown', startGame);

let score = 0;
let currentPokemonIndex = 0;
const totalRounds = 10;
let currentPokemon = {};

async function startGame() {
  document.getElementById('welcome-screen').classList.add('hidden');
  document.getElementById('game-container').classList.remove('hidden');
  await loadPokemon();
}

async function loadPokemon() {
  if (currentPokemonIndex >= totalRounds) {
    endGame();
    return;
  }
  
  const randomId = Math.floor(Math.random() * 898) + 1; // There are 898 Pokemon in PokeAPI
  const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${randomId}`);
  const data = await response.json();
  currentPokemon = { name: data.name, image: data.sprites.front_default };
  
  const imageElement = document.getElementById('pokemon-image');
  imageElement.style.background = 'black';
  imageElement.style.opacity = 1;
}

function checkAnswer() {
  const guess = document.getElementById('pokemon-guess').value.toLowerCase();
  const messageElement = document.getElementById('message');
  
  if (guess === currentPokemon.name) {
    score++;
    messageElement.textContent = 'Correct!';
    messageElement.style.color = 'green';
  } else {
    messageElement.textContent = `Wrong! It was ${currentPokemon.name}.`;
    messageElement.style.color = 'red';
  }
  
  document.getElementById('score').textContent = `Score: ${score}`;
  document.getElementById('pokemon-guess').value = '';
  currentPokemonIndex++;
  setTimeout(() => {
    document.getElementById('pokemon-image').style.opacity = 0;
    setTimeout(loadPokemon, 500);
  }, 1000);
}

function endGame() {
  alert(`Game Over! Your score is ${score} out of ${totalRounds}`);
  location.reload(); // Reset game
}
</script>
</body>
</html>