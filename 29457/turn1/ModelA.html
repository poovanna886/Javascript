<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2023 Bahrain GP F1 Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Slab:wght@400;700&display=swap');

        body {
            font-family: 'Montserrat', sans-serif;
            background: #f8f9fa;
        }
        .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform .2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-title {
            font-family: 'Roboto Slab', serif;
        }
        .chart-container {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">2023 Bahrain Grand Prix Dashboard</h1>
    
    <!-- Driver Cards -->
    <h2 class="mt-4">Driver Results</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5" id="driverCards"></div>

    <!-- Constructor Points -->
    <h2>Constructor Points</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5" id="constructorPoints"></div>

    <!-- Charts -->
    <div class="row">
        <div class="col-md-6">
            <div class="chart-container">
                <canvas id="fastestLapChart"></canvas>
            </div>
        </div>
        <div class="col-md-6">
            <div class="chart-container">
                <canvas id="gapFromLeadChart"></canvas>
            </div>
        </div>
        <div class="col-12 mt-4">
            <div class="chart-container">
                <canvas id="startFinishScatter"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    const data =  {
          "Results": [
            {
              "number": "1",
              "position": "1",
              "positionText": "1",
              "points": "25",
              "Driver": {
                "driverId": "max_verstappen",
                "permanentNumber": "33",
                "code": "VER",
                "url": "http://en.wikipedia.org/wiki/Max_Verstappen",
                "givenName": "Max",
                "familyName": "Verstappen",
                "dateOfBirth": "1997-09-30",
                "nationality": "Dutch"
              },
              "Constructor": {
                "constructorId": "red_bull",
                "url": "http://en.wikipedia.org/wiki/Red_Bull_Racing",
                "name": "Red Bull",
                "nationality": "Austrian"
              },
              "grid": "1",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5636736",
                "time": "1:33:56.736"
              },
              "FastestLap": {
                "rank": "6",
                "lap": "44",
                "Time": {
                  "time": "1:36.236"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "202.452"
                }
              }
            },
            {
              "number": "11",
              "position": "2",
              "positionText": "2",
              "points": "18",
              "Driver": {
                "driverId": "perez",
                "permanentNumber": "11",
                "code": "PER",
                "url": "http://en.wikipedia.org/wiki/Sergio_P%C3%A9rez",
                "givenName": "Sergio",
                "familyName": "Pérez",
                "dateOfBirth": "1990-01-26",
                "nationality": "Mexican"
              },
              "Constructor": {
                "constructorId": "red_bull",
                "url": "http://en.wikipedia.org/wiki/Red_Bull_Racing",
                "name": "Red Bull",
                "nationality": "Austrian"
              },
              "grid": "2",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5648723",
                "time": "+11.987"
              },
              "FastestLap": {
                "rank": "7",
                "lap": "37",
                "Time": {
                  "time": "1:36.344"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "202.225"
                }
              }
            },
            {
              "number": "14",
              "position": "3",
              "positionText": "3",
              "points": "15",
              "Driver": {
                "driverId": "alonso",
                "permanentNumber": "14",
                "code": "ALO",
                "url": "http://en.wikipedia.org/wiki/Fernando_Alonso",
                "givenName": "Fernando",
                "familyName": "Alonso",
                "dateOfBirth": "1981-07-29",
                "nationality": "Spanish"
              },
              "Constructor": {
                "constructorId": "aston_martin",
                "url": "http://en.wikipedia.org/wiki/Aston_Martin_in_Formula_One",
                "name": "Aston Martin",
                "nationality": "British"
              },
              "grid": "5",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5675373",
                "time": "+38.637"
              },
              "FastestLap": {
                "rank": "5",
                "lap": "36",
                "Time": {
                  "time": "1:36.156"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "202.620"
                }
              }
            },
            {
              "number": "55",
              "position": "4",
              "positionText": "4",
              "points": "12",
              "Driver": {
                "driverId": "sainz",
                "permanentNumber": "55",
                "code": "SAI",
                "url": "http://en.wikipedia.org/wiki/Carlos_Sainz_Jr.",
                "givenName": "Carlos",
                "familyName": "Sainz",
                "dateOfBirth": "1994-09-01",
                "nationality": "Spanish"
              },
              "Constructor": {
                "constructorId": "ferrari",
                "url": "http://en.wikipedia.org/wiki/Scuderia_Ferrari",
                "name": "Ferrari",
                "nationality": "Italian"
              },
              "grid": "4",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5684788",
                "time": "+48.052"
              },
              "FastestLap": {
                "rank": "14",
                "lap": "37",
                "Time": {
                  "time": "1:37.130"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "200.588"
                }
              }
            },
            {
              "number": "44",
              "position": "5",
              "positionText": "5",
              "points": "10",
              "Driver": {
                "driverId": "hamilton",
                "permanentNumber": "44",
                "code": "HAM",
                "url": "http://en.wikipedia.org/wiki/Lewis_Hamilton",
                "givenName": "Lewis",
                "familyName": "Hamilton",
                "dateOfBirth": "1985-01-07",
                "nationality": "British"
              },
              "Constructor": {
                "constructorId": "mercedes",
                "url": "http://en.wikipedia.org/wiki/Mercedes-Benz_in_Formula_One",
                "name": "Mercedes",
                "nationality": "German"
              },
              "grid": "7",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5687713",
                "time": "+50.977"
              },
              "FastestLap": {
                "rank": "10",
                "lap": "36",
                "Time": {
                  "time": "1:36.546"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.802"
                }
              }
            },
            {
              "number": "18",
              "position": "6",
              "positionText": "6",
              "points": "8",
              "Driver": {
                "driverId": "stroll",
                "permanentNumber": "18",
                "code": "STR",
                "url": "http://en.wikipedia.org/wiki/Lance_Stroll",
                "givenName": "Lance",
                "familyName": "Stroll",
                "dateOfBirth": "1998-10-29",
                "nationality": "Canadian"
              },
              "Constructor": {
                "constructorId": "aston_martin",
                "url": "http://en.wikipedia.org/wiki/Aston_Martin_in_Formula_One",
                "name": "Aston Martin",
                "nationality": "British"
              },
              "grid": "8",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5691238",
                "time": "+54.502"
              },
              "FastestLap": {
                "rank": "9",
                "lap": "32",
                "Time": {
                  "time": "1:36.546"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.802"
                }
              }
            },
            {
              "number": "63",
              "position": "7",
              "positionText": "7",
              "points": "6",
              "Driver": {
                "driverId": "russell",
                "permanentNumber": "63",
                "code": "RUS",
                "url": "http://en.wikipedia.org/wiki/George_Russell_(racing_driver)",
                "givenName": "George",
                "familyName": "Russell",
                "dateOfBirth": "1998-02-15",
                "nationality": "British"
              },
              "Constructor": {
                "constructorId": "mercedes",
                "url": "http://en.wikipedia.org/wiki/Mercedes-Benz_in_Formula_One",
                "name": "Mercedes",
                "nationality": "German"
              },
              "grid": "6",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5692609",
                "time": "+55.873"
              },
              "FastestLap": {
                "rank": "17",
                "lap": "33",
                "Time": {
                  "time": "1:37.221"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "200.401"
                }
              }
            },
            {
              "number": "77",
              "position": "8",
              "positionText": "8",
              "points": "4",
              "Driver": {
                "driverId": "bottas",
                "permanentNumber": "77",
                "code": "BOT",
                "url": "http://en.wikipedia.org/wiki/Valtteri_Bottas",
                "givenName": "Valtteri",
                "familyName": "Bottas",
                "dateOfBirth": "1989-08-28",
                "nationality": "Finnish"
              },
              "Constructor": {
                "constructorId": "alfa",
                "url": "http://en.wikipedia.org/wiki/Alfa_Romeo_in_Formula_One",
                "name": "Alfa Romeo",
                "nationality": "Swiss"
              },
              "grid": "12",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5709383",
                "time": "+1:12.647"
              },
              "FastestLap": {
                "rank": "18",
                "lap": "31",
                "Time": {
                  "time": "1:37.379"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "200.075"
                }
              }
            },
            {
              "number": "10",
              "position": "9",
              "positionText": "9",
              "points": "2",
              "Driver": {
                "driverId": "gasly",
                "permanentNumber": "10",
                "code": "GAS",
                "url": "http://en.wikipedia.org/wiki/Pierre_Gasly",
                "givenName": "Pierre",
                "familyName": "Gasly",
                "dateOfBirth": "1996-02-07",
                "nationality": "French"
              },
              "Constructor": {
                "constructorId": "alpine",
                "url": "http://en.wikipedia.org/wiki/Alpine_F1_Team",
                "name": "Alpine F1 Team",
                "nationality": "French"
              },
              "grid": "20",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5710489",
                "time": "+1:13.753"
              },
              "FastestLap": {
                "rank": "2",
                "lap": "42",
                "Time": {
                  "time": "1:35.068"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "204.939"
                }
              }
            },
            {
              "number": "23",
              "position": "10",
              "positionText": "10",
              "points": "1",
              "Driver": {
                "driverId": "albon",
                "permanentNumber": "23",
                "code": "ALB",
                "url": "http://en.wikipedia.org/wiki/Alexander_Albon",
                "givenName": "Alexander",
                "familyName": "Albon",
                "dateOfBirth": "1996-03-23",
                "nationality": "Thai"
              },
              "Constructor": {
                "constructorId": "williams",
                "url": "http://en.wikipedia.org/wiki/Williams_Grand_Prix_Engineering",
                "name": "Williams",
                "nationality": "British"
              },
              "grid": "15",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5726510",
                "time": "+1:29.774"
              },
              "FastestLap": {
                "rank": "15",
                "lap": "43",
                "Time": {
                  "time": "1:37.144"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "200.559"
                }
              }
            },
            {
              "number": "22",
              "position": "11",
              "positionText": "11",
              "points": "0",
              "Driver": {
                "driverId": "tsunoda",
                "permanentNumber": "22",
                "code": "TSU",
                "url": "http://en.wikipedia.org/wiki/Yuki_Tsunoda",
                "givenName": "Yuki",
                "familyName": "Tsunoda",
                "dateOfBirth": "2000-05-11",
                "nationality": "Japanese"
              },
              "Constructor": {
                "constructorId": "alphatauri",
                "url": "http://en.wikipedia.org/wiki/Scuderia_AlphaTauri",
                "name": "AlphaTauri",
                "nationality": "Italian"
              },
              "grid": "14",
              "laps": "57",
              "status": "Finished",
              "Time": {
                "millis": "5727606",
                "time": "+1:30.870"
              },
              "FastestLap": {
                "rank": "12",
                "lap": "42",
                "Time": {
                  "time": "1:36.637"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.612"
                }
              }
            },
            {
              "number": "2",
              "position": "12",
              "positionText": "12",
              "points": "0",
              "Driver": {
                "driverId": "sargeant",
                "permanentNumber": "2",
                "code": "SAR",
                "url": "http://en.wikipedia.org/wiki/Logan_Sargeant",
                "givenName": "Logan",
                "familyName": "Sargeant",
                "dateOfBirth": "2000-12-31",
                "nationality": "American"
              },
              "Constructor": {
                "constructorId": "williams",
                "url": "http://en.wikipedia.org/wiki/Williams_Grand_Prix_Engineering",
                "name": "Williams",
                "nationality": "British"
              },
              "grid": "16",
              "laps": "56",
              "status": "+1 Lap",
              "FastestLap": {
                "rank": "4",
                "lap": "42",
                "Time": {
                  "time": "1:36.037"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "202.871"
                }
              }
            },
            {
              "number": "20",
              "position": "13",
              "positionText": "13",
              "points": "0",
              "Driver": {
                "driverId": "kevin_magnussen",
                "permanentNumber": "20",
                "code": "MAG",
                "url": "http://en.wikipedia.org/wiki/Kevin_Magnussen",
                "givenName": "Kevin",
                "familyName": "Magnussen",
                "dateOfBirth": "1992-10-05",
                "nationality": "Danish"
              },
              "Constructor": {
                "constructorId": "haas",
                "url": "http://en.wikipedia.org/wiki/Haas_F1_Team",
                "name": "Haas F1 Team",
                "nationality": "American"
              },
              "grid": "17",
              "laps": "56",
              "status": "+1 Lap",
              "FastestLap": {
                "rank": "8",
                "lap": "42",
                "Time": {
                  "time": "1:36.471"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.959"
                }
              }
            },
            {
              "number": "21",
              "position": "14",
              "positionText": "14",
              "points": "0",
              "Driver": {
                "driverId": "de_vries",
                "permanentNumber": "21",
                "code": "DEV",
                "url": "http://en.wikipedia.org/wiki/Nyck_de_Vries",
                "givenName": "Nyck",
                "familyName": "de Vries",
                "dateOfBirth": "1995-02-06",
                "nationality": "Dutch"
              },
              "Constructor": {
                "constructorId": "alphatauri",
                "url": "http://en.wikipedia.org/wiki/Scuderia_AlphaTauri",
                "name": "AlphaTauri",
                "nationality": "Italian"
              },
              "grid": "19",
              "laps": "56",
              "status": "+1 Lap",
              "FastestLap": {
                "rank": "19",
                "lap": "30",
                "Time": {
                  "time": "1:37.709"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "199.400"
                }
              }
            },
            {
              "number": "27",
              "position": "15",
              "positionText": "15",
              "points": "0",
              "Driver": {
                "driverId": "hulkenberg",
                "permanentNumber": "27",
                "code": "HUL",
                "url": "http://en.wikipedia.org/wiki/Nico_H%C3%BClkenberg",
                "givenName": "Nico",
                "familyName": "Hülkenberg",
                "dateOfBirth": "1987-08-19",
                "nationality": "German"
              },
              "Constructor": {
                "constructorId": "haas",
                "url": "http://en.wikipedia.org/wiki/Haas_F1_Team",
                "name": "Haas F1 Team",
                "nationality": "American"
              },
              "grid": "10",
              "laps": "56",
              "status": "+1 Lap",
              "FastestLap": {
                "rank": "11",
                "lap": "42",
                "Time": {
                  "time": "1:36.616"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.656"
                }
              }
            },
            {
              "number": "24",
              "position": "16",
              "positionText": "16",
              "points": "0",
              "Driver": {
                "driverId": "zhou",
                "permanentNumber": "24",
                "code": "ZHO",
                "url": "http://en.wikipedia.org/wiki/Zhou_Guanyu",
                "givenName": "Guanyu",
                "familyName": "Zhou",
                "dateOfBirth": "1999-05-30",
                "nationality": "Chinese"
              },
              "Constructor": {
                "constructorId": "alfa",
                "url": "http://en.wikipedia.org/wiki/Alfa_Romeo_in_Formula_One",
                "name": "Alfa Romeo",
                "nationality": "Swiss"
              },
              "grid": "13",
              "laps": "56",
              "status": "+1 Lap",
              "FastestLap": {
                "rank": "1",
                "lap": "56",
                "Time": {
                  "time": "1:33.996"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "207.276"
                }
              }
            },
            {
              "number": "4",
              "position": "17",
              "positionText": "17",
              "points": "0",
              "Driver": {
                "driverId": "norris",
                "permanentNumber": "4",
                "code": "NOR",
                "url": "http://en.wikipedia.org/wiki/Lando_Norris",
                "givenName": "Lando",
                "familyName": "Norris",
                "dateOfBirth": "1999-11-13",
                "nationality": "British"
              },
              "Constructor": {
                "constructorId": "mclaren",
                "url": "http://en.wikipedia.org/wiki/McLaren",
                "name": "McLaren",
                "nationality": "British"
              },
              "grid": "11",
              "laps": "55",
              "status": "+2 Laps",
              "FastestLap": {
                "rank": "3",
                "lap": "51",
                "Time": {
                  "time": "1:35.822"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "203.327"
                }
              }
            },
            {
              "number": "31",
              "position": "18",
              "positionText": "R",
              "points": "0",
              "Driver": {
                "driverId": "ocon",
                "permanentNumber": "31",
                "code": "OCO",
                "url": "http://en.wikipedia.org/wiki/Esteban_Ocon",
                "givenName": "Esteban",
                "familyName": "Ocon",
                "dateOfBirth": "1996-09-17",
                "nationality": "French"
              },
              "Constructor": {
                "constructorId": "alpine",
                "url": "http://en.wikipedia.org/wiki/Alpine_F1_Team",
                "name": "Alpine F1 Team",
                "nationality": "French"
              },
              "grid": "9",
              "laps": "41",
              "status": "Mechanical",
              "FastestLap": {
                "rank": "13",
                "lap": "34",
                "Time": {
                  "time": "1:36.797"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "201.278"
                }
              }
            },
            {
              "number": "16",
              "position": "19",
              "positionText": "R",
              "points": "0",
              "Driver": {
                "driverId": "leclerc",
                "permanentNumber": "16",
                "code": "LEC",
                "url": "http://en.wikipedia.org/wiki/Charles_Leclerc",
                "givenName": "Charles",
                "familyName": "Leclerc",
                "dateOfBirth": "1997-10-16",
                "nationality": "Monegasque"
              },
              "Constructor": {
                "constructorId": "ferrari",
                "url": "http://en.wikipedia.org/wiki/Scuderia_Ferrari",
                "name": "Ferrari",
                "nationality": "Italian"
              },
              "grid": "3",
              "laps": "39",
              "status": "Engine",
              "FastestLap": {
                "rank": "16",
                "lap": "37",
                "Time": {
                  "time": "1:37.170"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "200.506"
                }
              }
            },
            {
              "number": "81",
              "position": "20",
              "positionText": "R",
              "points": "0",
              "Driver": {
                "driverId": "piastri",
                "permanentNumber": "81",
                "code": "PIA",
                "url": "http://en.wikipedia.org/wiki/Oscar_Piastri",
                "givenName": "Oscar",
                "familyName": "Piastri",
                "dateOfBirth": "2001-04-06",
                "nationality": "Australian"
              },
              "Constructor": {
                "constructorId": "mclaren",
                "url": "http://en.wikipedia.org/wiki/McLaren",
                "name": "McLaren",
                "nationality": "British"
              },
              "grid": "18",
              "laps": "13",
              "status": "Electrical",
              "FastestLap": {
                "rank": "20",
                "lap": "3",
                "Time": {
                  "time": "1:40.691"
                },
                "AverageSpeed": {
                  "units": "kph",
                  "speed": "193.494"
                }
              }
            }
          ]
        
    };

    function createDriverCards() {
        const driverCards = document.getElementById('driverCards');
        data.Results.forEach(result => {
            if (result.position <= 20) {
                let card = `
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">#${result.Driver.permanentNumber} ${result.Driver.givenName} ${result.Driver.familyName}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">${result.Constructor.name}</h6>
                            <p class="card-text">Position: ${result.position}<br>Points: ${result.points}</p>
                        </div>
                    </div>
                </div>`;
                driverCards.innerHTML += card;
            }
        });
    }

    function createConstructorPoints() {
        const constructorPoints = document.getElementById('constructorPoints');
        let constructors = {};
        data.Results.forEach(result => {
            if (!constructors[result.Constructor.name]) {
                constructors[result.Constructor.name] = 0;
            }
            constructors[result.Constructor.name] += parseInt(result.points);
        });
        Object.entries(constructors).sort((a, b) => b[1] - a[1]).forEach(([name, points]) => {
            let card = `
            <div class="col">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">${name}</h5>
                        <p class="card-text">Points: ${points}</p>
                    </div>
                </div>
            </div>`;
            constructorPoints.innerHTML += card;
        });
    }

    function createCharts() {
        const ctxFastestLap = document.getElementById('fastestLapChart').getContext('2d');
        const ctxGap = document.getElementById('gapFromLeadChart').getContext('2d');
        const ctxScatter = document.getElementById('startFinishScatter').getContext('2d');

        // Fastest Lap Chart
        new Chart(ctxFastestLap, {
            type: 'bar',
            data: {
                labels: data.Results.map(r => `${r.Driver.givenName[0]}. ${r.Driver.familyName}`),
                datasets: [{
                    label: 'Fastest Lap Time',
                    data: data.Results.map(r => parseFloat(r.FastestLap.Time.time.replace(':', '.'))),
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Time (MM:SS.sss)'
                        }
                    }
                }
            }
        });

        // Gap from Lead Chart
        new Chart(ctxGap, {
            type: 'line',
            data: {
                labels: data.Results.map(r => r.position),
                datasets: [{
                    label: 'Gap from Leader',
                    data: data.Results.map(r => {
                        if (r.status !== 'Finished') return {y: null, status: 'DNF'};
                        let time = r.Time.time.split(':').reduce((acc, time) => (60 * acc) + parseFloat(time), 0);
                        return time - data.Results[0].Time.millis / 1000;
                    }),
                    fill: false,
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1,
                    pointRadius: 5,
                    pointBackgroundColor: (context) => context.raw.status === 'DNF' ? 'red' : 'rgb(75, 192, 192)'
                }]
            },
            options: {
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                if (context.raw.status === 'DNF') return 'DNF';
                                let val = context.raw.y;
                                let min = Math.floor(val / 60);
                                let sec = (val % 60).toFixed(3);
                                return `${min}:${sec}`;
                            }
                        }
                    }
                }
            }
        });

        // Start vs Finish Position Scatter Plot
        new Chart(ctxScatter, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Start vs Finish Position',
                    data: data.Results.map(r => ({x: r.grid, y: r.position})),
                    backgroundColor: 'rgba(54, 162, 235, 0.5)',
                    borderColor: 'rgb(54, 162, 235)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    x: {type: 'linear', position: 'bottom'},
                    y: {reverse: true}
                }
            }
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        createDriverCards();
        createConstructorPoints();
        createCharts();
    });
</script>
</body>
</html>